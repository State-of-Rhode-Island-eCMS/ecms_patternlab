@mixin button-disabled-style {
  background-color: transparent;
  background: repeating-linear-gradient(
    -45deg,
    var(--fc__default__button__bg),
    var(--fc__default__button__bg) 0.5em,
    var(--fc__default__button--hover__bg) 0.5em,
    var(--fc__default__button--hover__bg) 1em
  );
  cursor: default;
  opacity: 0.6;
  pointer-events: none;
}


// <p>-like typography styles applied via 02-text/00-typography
button,
.qh__btn,
.button {
  --p-font-wght: 500;
  border: 0;
  border-radius: $button-border-radius;
  display: inline-block;
  letter-spacing: $kerning-base;
  overflow: hidden;
  padding: $button-v-spacing $button-h-spacing;
  transition: $transition-base;
  user-select: none;
  vertical-align: middle;

  // Small screens can break onto two linesâ€¦ larger can not
  @include breakpoint-up($bp--small) {
    white-space: nowrap;
  }

  & + & {
    margin-top: ($text-spacer-fallback-value * 0.75);

    @supports (margin-top: clamp(1rem, 2vw, 1.25rem)) {
      margin-top: calc(var(--body-text-spacer) * 0.75);
    }
  }

  // Primary color theme (highlight, more colorful)
  // :visited on a <button> is not a thing but most of the time these may be <a>s
  &,
  &:visited {
    background-color: var(--fc__default__button__bg);
    background-image: linear-gradient(
      rgba(#fff, 0.125) 10%,
      rgba(#fff, 0) 50%,
      rgba(#000, 0) 80%,
      rgba(#000, 0.125) 100%
    );
    color: var(--fc__default__button__fg);
    text-decoration: none;
  }

  &:hover,
  &:focus {
    background-color: var(--fc__default__button--hover__bg);
    color: var(--fc__default__button--hover__fg);
  }

  &:focus {
    outline: $border-sm solid var(--fc__default__link--focus);
    outline-offset: $border-sm;
  }

  &:disabled {
    @include button-disabled-style;
  }

  // Opinionated: add "hand" cursor to non-disabled .btn elements
  &:not(:disabled) {
    cursor: pointer;
  }
}

.qh__btn {

  // More subdued color theme based on primary--light
  &--secondary {

    &,
    &:visited {
      background-color: var(--fc__primary--light__bg);
      color: var(--fc__primary--light__fg);
    }

    &:hover,
    &:focus {
      background-color: var(--fc__default__fg);
      color: var(--fc__default__bg);
    }
  }

  &--small {
    font-size: rem(14);
    padding: ($button-v-spacing / 2) ($button-h-spacing / 2);
  }

  &:disabled,
  &--disabled {
    @include button-disabled-style;
  }

  // Opinionated: add "hand" cursor to non-disabled .btn elements
  &:not(&--disabled):not(&:disabled) {
    cursor: pointer;
  }

  // Reset other button elements
  button#{&},
  &[type="button"],
  &[type="reset"],
  &[type="submit"] {
    @include qh-button-reset();
  }
}

// Utility

// Treat a <button> visually like a text link
.qh__u__btn-as-text {
  border-radius: 0;
  display: inline;
  hyphens: none;
  line-height: inherit;
  padding: 0;
  text-align: inherit;
  user-select: auto;
  white-space: normal;

  &,
  &:visited,
  &:hover,
  &:focus {
    background-color: transparent;
    background-image: none;
    color: var(--fc__default__link);
  }

  &,
  &:visited {
    color: var(--fc__default__link);
  }

  &:hover,
  &:focus {
    color: var(--fc__default__link--hover);
  }

  &:active {
    color: var(--fc__default__link--active);
  }
}
