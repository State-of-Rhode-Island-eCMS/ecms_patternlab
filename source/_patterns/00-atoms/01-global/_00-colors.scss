
// stylelint-disable property-no-unknown
:root {
  color-scheme: light dark;
}
// stylelint-enable property-no-unknown

// Outputs all the colors from colors.json as custom props
html {
  //@debug #{$colors};
  //@debug #{$palettes};

  // Default color vars
  @each $key, $value in $colors {
    --c__#{$key}: #{map-get($value, hsl)};
  }

  $num: 1;
  @each $key, $palette in $palettes {
    @if $num == 1 {
      // First palette defined is treated as the default palette
      // All functional color names are output without a theme class around them
      $values: map-get($palette, 'values');
      @each $block, $section in $values {
        @each $element in $section {
          //@debug #{'block= ' + $block};
          //@debug #{'element= ' + map-get($element,'fnName')};
          //@debug #{'colorName= ' + map-get($element, 'colorName')};
          --fc__#{$block}__#{map-get($element,'fnName')}: #{map-get(map-get($colors, map-get($element, 'colorName')), 'hsl')};
        }
      }
    } @else {
      .qh__t__#{$key} {
        $values: map-get($palette, 'values');
        @each $block, $section in $values {
          @each $element in $section {
            --fc__#{$block}__#{map-get($element,'fnName')}: #{map-get(map-get($colors, map-get($element, 'colorName')), 'hsl')};
          }
        }
      }
    }
    $num: $num + 1;
  }
}
