
//  max-width: $content-max-small-screen;

//  @include breakpoint-up($bp--xxlarge) {
//    max-width: $content-max-large-screen;
//  }

$hia-gutter: calc((100vw - #{$content-max-small-screen}) / 2);
$hia-gutter--xxlarge: calc((100vw - #{$content-max-large-screen}) / 2);

.qh__header-image-action {
  background-color: var(--c__quahog);
  display: grid;
  overflow: hidden;
  position: relative;

  &--has-overlay {
    grid-template-rows: 4rem 1fr 4rem;
    grid-template-columns: 2rem 1fr 2rem;

    // For full width section use max content area as gutter.
    .qh-layout-section--full-width & {
      grid-template-columns: $hia-gutter 1fr $hia-gutter;

      @include breakpoint-up($bp--xxlarge) {
        grid-template-columns: $hia-gutter--xxlarge 1fr $hia-gutter--xxlarge;
      }
    }
  }

  // &--title-only {
  //   grid-template-rows: 1rem 1fr 1rem;
  //   grid-template-columns: $hia-gutter 1fr $hia-gutter;
  // }

  > img {
    grid-column: 1 / span 3;
    grid-row: 1 / span 3;
    // object-fit: cover;
  }

  /*
   * Overlay specific components:
   */

  // Overlay class handles the grid placement and centers the child vertically.
  &__overlay {
    grid-column: 2 / span 1;
    grid-row: 2 / span 1;

    display: flex;
    align-items: center;

    // Creates the box effect which inherits height from it's content.
    &-inner {
      padding: $general-v-spacing $general-h-spacing;
    }

    h1, h2 {
      margin-top: 0;
    }
  }

  &__link {
    margin-top: $general-v-spacing;
  }

  /*
   * Title only / No overlay:
   */
  &__title {
    align-self: end;
    color: var(--c__white);
    margin-bottom: 0;
    text-shadow:
      1px 1px 1px rgba(qh-get-color('quahog'), 0.95),
      1px 1px 1rem rgba(qh-get-color('quahog'), 0.5),
      -1px 1px 1rem rgba(qh-get-color('quahog'), 0.5),
      -1px -1px 1rem rgba(qh-get-color('quahog'), 0.5),
      1px -1px 1rem rgba(qh-get-color('quahog'), 0.5);
    width: 100%;

    @supports (font-size: clamp(1rem, 2vw, 2rem)) {
      --font-size-min: 1.25rem;
      --font-size-max: 4rem;
      --font-size-scaler-value: var(--h2-scaler-value);
      font-size: var(--font-size);

      --font-lh-min: #{$h2-lh-s};
      --font-lh-max: #{$h2-lh-l};
      --font-lh-scaler-value: var(--h2-lh-scaler-value);
      line-height: var(--line-height);
    }

    @include breakpoint-up($bp--medium) {
      grid-column: 2 / span 1;
      grid-row: 2 / span 1;
    }
  }

  // Completely different approach for IE11
  // @include onlyIE() {
  //   display: block;

  //   &__title {
  //     position: absolute;
  //       left: $general-h-spacing;
  //       bottom: $general-h-spacing;
  //   }
  // }
}
